<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Manage Media Metadata • ct</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Montserrat-0.4.10/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Manage Media Metadata">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ct</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Home"><span class="fa fa-home"></span> Home</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-code"></span> Functions</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-blog"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/camtrap_data_preparation.html">Data preparation</a></li>
    <li><a class="dropdown-item" href="../articles/manage_media_metadata.html">Manage Media Metadata</a></li>
    <li><a class="dropdown-item" href="../articles/distance_measurement.html">Distance Measurement</a></li>
    <li><a class="dropdown-item" href="../articles/distance_sampling_guide.html">Guide to Distance Sampling</a></li>
    <li><a class="dropdown-item" href="../articles/wildlife_density_estimation.html">Density Estimation With DS</a></li>
    <li><a class="dropdown-item" href="../articles/rarefaction_and_extrapolation.html">Rarefaction and Extrapolation</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-face-smile"></span> News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/stangandaho/ct" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.linkedin.com/in/stangandaho/" aria-label="LinkedIn"><span class="fa fa-linkedin"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="manage_media_metadata_files/kePrint-0.0.1/kePrint.js"></script><link href="manage_media_metadata_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Manage Media Metadata</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/stangandaho/ct/blob/main/vignettes/articles/manage_media_metadata.Rmd" class="external-link"><code>vignettes/articles/manage_media_metadata.Rmd</code></a></small>
      <div class="d-none name"><code>manage_media_metadata.Rmd</code></div>
    </div>

    
    
<p><img src="https://zenodo.org/records/17978848/files/11030555.JPG" alt="Wildlife at Faro National Park, Cameroon" width="600" height="339"></p>
<p>Camera traps generate vast amounts of data, primarily in the form of
images or videos. While the visual content is the primary focus for
identifying species and behaviors, the files themselves contain a hidden
layer of crucial information: metadata. This embedded data serves as the
backbone for transforming raw media into a structured dataset, providing
the “when”, “where”, and “how” of each record.</p>
<div class="section level2">
<h2 id="media-to-dataset">Media to Dataset<a class="anchor" aria-label="anchor" href="#media-to-dataset"></a>
</h2>
<p>The first step in any camera-trap analysis pipeline is converting a
collection of image or video files into a structured dataset. This
process relies on metadata embedded within the media files. A single
image can contain <strong>hundreds of metadata tags</strong>
(i.e. fields), but only a subset is typically relevant for camera-trap
studies.</p>
<p>For camera-trap data analysis, the most important tags fall into a
few core categories: <strong>time</strong>, <strong>location</strong>,
<strong>camera identity and settings</strong>, and <strong>image
identity</strong>. Commonly used fields include:</p>
<ul>
<li>
<strong>DateTimeOriginal</strong>: The exact date and time the image
was captured; essential for analysing activity patterns and detection
histories.</li>
<li>
<strong>TimeZoneOffset / OffsetTimeOriginal</strong>: Critical for
avoiding time-shift errors when combining data from multiple cameras or
regions.</li>
<li>
<strong>GPSLatitude</strong>, <strong>GPSLongitude</strong>
</li>
<li>
<strong>GPSAltitude</strong> (optional)</li>
</ul>
<p>Most analyses rely heavily on DateTimeOriginal, and incorrect camera
clocks are one of the most common sources of error in camera-trap
datasets. In addition, <strong>many camera traps do not record GPS
information</strong>; in such cases, camera locations are usually
provided separately (e.g. in deployment tables or filenames).</p>
<p>Because metadata are often incomplete or inconsistent, this step
typically involves <strong>quality control and enrichment</strong>
rather than simple extraction. This may include correcting timestamps
(see <code><a href="../reference/ct_correct_datetime.html">ct_correct_datetime()</a></code>), assigning missing coordinates,
and linking images to external deployment information. The outcome is a
clean, consistent, and analysis-ready dataset.</p>
</div>
<div class="section level2">
<h2 id="managing-metadata-with-ct">Managing Metadata with <code>ct</code><a class="anchor" aria-label="anchor" href="#managing-metadata-with-ct"></a>
</h2>
<p>The <code>ct</code> package provides a suite of functions to not only
read metadata but also to actively manage and enrich it using
<strong>Hierarchical Subjects (HS)</strong>.</p>
<div class="section level3">
<h3 id="reading-metadata">Reading Metadata<a class="anchor" aria-label="anchor" href="#reading-metadata"></a>
</h3>
<p>The <code><a href="../reference/ct_read_metadata.html">ct_read_metadata()</a></code> function is the primary tool for
extracting information. It leverages the <a href="https://exiftool.org/" class="external-link">ExifTool</a> to parse standard tags and can
also structure hierarchical tags into a usable format. For demonstration
purposes, we use the image shown below, which can be downloaded <a href="https://zenodo.org/records/17978848/files/10200034.JPG?download=1" class="external-link">here</a>.</p>
<p><img src="https://zenodo.org/records/17978848/files/10200034.JPG" alt="Kobus kob at Faro National Park, Cameroon" width="600" height="339"></p>
<p>As is typical for camera-trap images, basic information is overlaid
directly on the image, including the camera ID, ambient temperature (in
both Fahrenheit and Celsius), and the date and time of capture.</p>
<p>Using a single image, it would be possible to manually construct a
dataset by recording attributes such as the species present,
temperature, date, time, and location. However, doing this manually for
hundreds or thousands of images quickly becomes time-consuming and
error-prone. This is where metadata extraction becomes essential.</p>
<p>In the following sections, we demonstrate how the <code>ct</code>
package can be used to perform this extraction and convert raw
camera-trap media into a structured, analysis-ready dataset.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install the development version of the package</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="st">"stangandaho/ct"</span><span class="op">)</span></span>
<span><span class="co"># Load the package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stangandaho.github.io/ct/">ct</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Read the metadata</span></span>
<span><span class="fu"><a href="../reference/ct_read_metadata.html">ct_read_metadata</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"10200034.JPG"</span>, tags <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table table-striped" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
SourceFile
</th>
<th style="text-align:right;">
ExifToolVersion
</th>
<th style="text-align:left;">
FileName
</th>
<th style="text-align:left;">
Directory
</th>
<th style="text-align:right;">
FileSize
</th>
<th style="text-align:left;">
ZoneIdentifier
</th>
<th style="text-align:left;">
FileModifyDate
</th>
<th style="text-align:left;">
FileAccessDate
</th>
<th style="text-align:left;">
FileCreateDate
</th>
<th style="text-align:right;">
FilePermissions
</th>
<th style="text-align:left;">
FileType
</th>
<th style="text-align:left;">
FileTypeExtension
</th>
<th style="text-align:left;">
MIMEType
</th>
<th style="text-align:left;">
ExifByteOrder
</th>
<th style="text-align:left;">
ImageDescription
</th>
<th style="text-align:left;">
Make
</th>
<th style="text-align:left;">
Model
</th>
<th style="text-align:right;">
Orientation
</th>
<th style="text-align:right;">
XResolution
</th>
<th style="text-align:right;">
YResolution
</th>
<th style="text-align:right;">
ResolutionUnit
</th>
<th style="text-align:left;">
Software
</th>
<th style="text-align:left;">
ModifyDate
</th>
<th style="text-align:right;">
YCbCrPositioning
</th>
<th style="text-align:right;">
Copyright
</th>
<th style="text-align:right;">
ExposureTime
</th>
<th style="text-align:right;">
FNumber
</th>
<th style="text-align:right;">
ExposureProgram
</th>
<th style="text-align:right;">
ISO
</th>
<th style="text-align:right;">
ExifVersion
</th>
<th style="text-align:left;">
DateTimeOriginal
</th>
<th style="text-align:left;">
CreateDate
</th>
<th style="text-align:left;">
ComponentsConfiguration
</th>
<th style="text-align:left;">
CompressedBitsPerPixel
</th>
<th style="text-align:right;">
ShutterSpeedValue
</th>
<th style="text-align:right;">
ApertureValue
</th>
<th style="text-align:right;">
ExposureCompensation
</th>
<th style="text-align:right;">
MaxApertureValue
</th>
<th style="text-align:right;">
MeteringMode
</th>
<th style="text-align:right;">
LightSource
</th>
<th style="text-align:right;">
Flash
</th>
<th style="text-align:right;">
FocalLength
</th>
<th style="text-align:left;">
Warning
</th>
<th style="text-align:left;">
UserComment
</th>
<th style="text-align:right;">
FlashpixVersion
</th>
<th style="text-align:right;">
ColorSpace
</th>
<th style="text-align:right;">
ExifImageWidth
</th>
<th style="text-align:right;">
ExifImageHeight
</th>
<th style="text-align:left;">
InteropIndex
</th>
<th style="text-align:right;">
InteropVersion
</th>
<th style="text-align:right;">
FileSource
</th>
<th style="text-align:right;">
SceneType
</th>
<th style="text-align:right;">
ExposureMode
</th>
<th style="text-align:right;">
WhiteBalance
</th>
<th style="text-align:right;">
DigitalZoomRatio
</th>
<th style="text-align:right;">
FocalLengthIn35mmFormat
</th>
<th style="text-align:right;">
SceneCaptureType
</th>
<th style="text-align:right;">
Sharpness
</th>
<th style="text-align:left;">
GPSVersionID
</th>
<th style="text-align:left;">
GPSLatitudeRef
</th>
<th style="text-align:left;">
GPSLongitudeRef
</th>
<th style="text-align:right;">
Compression
</th>
<th style="text-align:right;">
ThumbnailOffset
</th>
<th style="text-align:right;">
ThumbnailLength
</th>
<th style="text-align:right;">
MPFVersion
</th>
<th style="text-align:right;">
NumberOfImages
</th>
<th style="text-align:right;">
MPImageFlags
</th>
<th style="text-align:right;">
MPImageFormat
</th>
<th style="text-align:right;">
MPImageType
</th>
<th style="text-align:right;">
MPImageLength
</th>
<th style="text-align:right;">
MPImageStart
</th>
<th style="text-align:right;">
DependentImage1EntryNumber
</th>
<th style="text-align:right;">
DependentImage2EntryNumber
</th>
<th style="text-align:right;">
ImageWidth
</th>
<th style="text-align:right;">
ImageHeight
</th>
<th style="text-align:right;">
EncodingProcess
</th>
<th style="text-align:right;">
BitsPerSample
</th>
<th style="text-align:right;">
ColorComponents
</th>
<th style="text-align:left;">
YCbCrSubSampling
</th>
<th style="text-align:right;">
Aperture
</th>
<th style="text-align:left;">
ImageSize
</th>
<th style="text-align:right;">
Megapixels
</th>
<th style="text-align:right;">
ShutterSpeed
</th>
<th style="text-align:left;">
ThumbnailImage
</th>
<th style="text-align:right;">
GPSLatitude
</th>
<th style="text-align:right;">
GPSLongitude
</th>
<th style="text-align:left;">
PreviewImage
</th>
<th style="text-align:right;">
FocalLength35efl
</th>
<th style="text-align:left;">
GPSPosition
</th>
<th style="text-align:right;">
LightValue
</th>
</tr></thead>
<tbody><tr>
<td style="text-align:left;">
C:/Users/ganda/Downloads/camtest/10200034.JPG
</td>
<td style="text-align:right;">
13.42
</td>
<td style="text-align:left;">
10200034.JPG
</td>
<td style="text-align:left;">
C:/Users/ganda/Downloads/camtest
</td>
<td style="text-align:right;">
8558864
</td>
<td style="text-align:left;">
Exists
</td>
<td style="text-align:left;">
2025:12:18 16:50:35+01:00
</td>
<td style="text-align:left;">
2025:12:18 16:50:35+01:00
</td>
<td style="text-align:left;">
2025:12:18 16:50:14+01:00
</td>
<td style="text-align:right;">
100666
</td>
<td style="text-align:left;">
JPEG
</td>
<td style="text-align:left;">
JPG
</td>
<td style="text-align:left;">
image/jpeg
</td>
<td style="text-align:left;">
II
</td>
<td style="text-align:left;">
P,L:F,40,24H,2 cmN,wbA
</td>
<td style="text-align:left;">
BUSHNELL
</td>
<td style="text-align:left;">
119977C
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
72
</td>
<td style="text-align:right;">
72
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
BS977_ 2003130B
</td>
<td style="text-align:left;">
2020:10:20 13:16:09
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2020
</td>
<td style="text-align:right;">
0.002
</td>
<td style="text-align:right;">
2.4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
220
</td>
<td style="text-align:left;">
2020:10:20 13:16:09
</td>
<td style="text-align:left;">
2020:10:20 13:16:09
</td>
<td style="text-align:left;">
1 2 3 0
</td>
<td style="text-align:left;">
undef
</td>
<td style="text-align:right;">
0.0020013
</td>
<td style="text-align:right;">
2.397812
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2.828427
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
7.45
</td>
<td style="text-align:left;">
[minor] Unrecognized MakerNotes
</td>
<td style="text-align:left;">
00,cds843:841,t126,p136:0183,c000:0000,ae103:0,10224:10000
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
7296
</td>
<td style="text-align:right;">
4104
</td>
<td style="text-align:left;">
R98
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
288
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
2 0 0 0
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
E
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
34756
</td>
<td style="text-align:right;">
4124
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
65537
</td>
<td style="text-align:right;">
58493
</td>
<td style="text-align:right;">
8500371
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
7296
</td>
<td style="text-align:right;">
4104
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
2 1
</td>
<td style="text-align:right;">
2.4
</td>
<td style="text-align:left;">
7296 4104
</td>
<td style="text-align:right;">
29.94278
</td>
<td style="text-align:right;">
0.002
</td>
<td style="text-align:left;">
(Binary data 4124 bytes, use -b option to extract)
</td>
<td style="text-align:right;">
8.166705
</td>
<td style="text-align:right;">
12.9667
</td>
<td style="text-align:left;">
(Binary data 58493 bytes, use -b option to extract)
</td>
<td style="text-align:right;">
7.45
</td>
<td style="text-align:left;">
8.166705 12.9666966666667
</td>
<td style="text-align:right;">
11.49185
</td>
</tr></tbody>
</table>
</div>
<p>This single file contains 90 columns. However, not all of these
fields (i.e. columns) are relevant for every analysis. During metadata
extraction, you can filter the output to retain only the fields of
interest by using the <code>tags</code> argument.</p>
<p>A convenient first option is to use <code>tags = "standard"</code>
(default), which returns a predefined set of commonly used metadata
fields. Alternatively, you can explicitly specify the tags you want to
extract. For example, to extract only the date the image was captured
and its location information, you can do the following:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ct_read_metadata.html">ct_read_metadata</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="st">"10200034.JPG"</span>,</span>
<span>  tags <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DateTimeOriginal"</span>, <span class="st">"GPSLongitude"</span>, <span class="st">"GPSLatitude"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table table-striped" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
SourceFile
</th>
<th style="text-align:left;">
DateTimeOriginal
</th>
<th style="text-align:right;">
GPSLongitude
</th>
<th style="text-align:right;">
GPSLatitude
</th>
</tr></thead>
<tbody><tr>
<td style="text-align:left;">
C:/Users/ganda/Downloads/camtest/10200034.JPG
</td>
<td style="text-align:left;">
2020:10:20 13:16:09
</td>
<td style="text-align:right;">
12.9667
</td>
<td style="text-align:right;">
8.166705
</td>
</tr></tbody>
</table>
</div>
<p>The <code>path</code> argument can point to a single image file or to
a directory containing multiple images. If all images are located
directly at the root of the directory, metadata are extracted
automatically. If the images are stored within one or more
subdirectories, you must set <code>recursive = TRUE</code>. Otherwise,
no files will be detected and an empty tibble will be returned.</p>
<p>For advanced users requiring specific ExifTool features not covered
by the wrapper, <code><a href="../reference/ct_exiftool_call.html">ct_exiftool_call()</a></code> allows direct access to
the ExifTool command line interface from within R.</p>
</div>
<div class="section level3">
<h3 id="hierarchical-subjects-hs">Hierarchical Subjects (HS)<a class="anchor" aria-label="anchor" href="#hierarchical-subjects-hs"></a>
</h3>
<p>As shown above, we can extract information stored in the metadata
written by the camera hardware. However, some key attributes are often
missing. For example, the species captured, as well as its age, sex, or
behaviour, are not recorded because the camera has no ability to
identify these characteristics. We may also be interested in additional
information such as habitat type or ambient temperature measured
independently.</p>
<p>If these attributes are required for a study, they must be added
manually for all captured images, which can be a time-consuming
task.</p>
<p>A key feature of the <code>ct</code> package is its support for
<strong>hierarchical subjects</strong>. These are structured tags stored
directly in the image metadata using a <code>Parent|Child</code> format
(e.g. <code>Species|Fox</code>, <code>Sex|Female</code>). This approach
allows users to store and manage customized metadata consistently across
large image collections.</p>
<p><strong>Why use Hierarchical Subjects?</strong><br>
- <strong>Portability</strong>: The data travels with the image. If you
move the file, you don’t lose the classification.<br>
- <strong>Standardization</strong>: The <code>Parent|Child</code>
structure enforces a consistent schema (e.g., always specifying
“Species” vs. just “Fox”).<br>
- <strong>Multi-dimensionality</strong>: You can assign multiple
attributes to a single image (e.g., Species, Sex, Behavior) without
complex external lookup tables.<br>
The package offers three key functions to manage these tags:</p>
<ol style="list-style-type: decimal">
<li>
<strong><code><a href="../reference/ct_create_hs.html">ct_create_hs()</a></code></strong>: Adds new hierarchical
tags to an image.</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add a species tag</span></span>
<span><span class="fu"><a href="../reference/ct_create_hs.html">ct_create_hs</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"10200034.JPG"</span>, value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Species"</span> <span class="op">=</span> <span class="st">"Kobus_kob"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add multiple tags at once</span></span>
<span><span class="fu"><a href="../reference/ct_create_hs.html">ct_create_hs</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"10200034.JPG"</span>, </span>
<span>             value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Species"</span> <span class="op">=</span> <span class="st">"Kobus_kob"</span>, </span>
<span>                       <span class="st">"Count"</span> <span class="op">=</span> <span class="fl">1</span>, </span>
<span>                       <span class="st">"Habitat"</span> <span class="op">=</span> <span class="st">"Shrub_savanah"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>When an image contains multiple species, their names and
corresponding counts can be provided directly. For example:
<code>c("Species" = "Kobus_kob, Bubalus_bubalis", "Count" = "1, 2")</code>.
This indicates that the image contains <strong>1 <em>Kobus
kob</em></strong> and <strong>2 <em>Bubalus bubalis</em></strong>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ct_create_hs.html">ct_create_hs</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"10200034.JPG"</span>, </span>
<span>             value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Species"</span> <span class="op">=</span> <span class="st">"Kobus_kob, Bubalus_bubalis"</span>, </span>
<span>                       <span class="st">"Count"</span> <span class="op">=</span> <span class="st">"1, 2"</span>, </span>
<span>                       <span class="st">"Sex"</span> <span class="op">=</span> <span class="st">"Male, Unknown"</span>,</span>
<span>                       <span class="st">"Habitat"</span> <span class="op">=</span> <span class="st">"Shrub_savanah, Shrub_savanah"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>
<strong><code><a href="../reference/ct_get_hs.html">ct_get_hs()</a></code></strong>: Reads the existing
hierarchical tags.</li>
</ol>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ct_get_hs.html">ct_get_hs</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"10200034.JPG"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Species|Kobus_kob"       "Count|1"                 "Sex|Male"               </span></span>
<span><span class="co">#&gt; [4] "Habitat|Shrub_savanah"   "Species|Bubalus_bubalis" "Count|2"                </span></span>
<span><span class="co">#&gt; [7] "Sex|Unknown" </span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>
<strong><code><a href="../reference/ct_remove_hs.html">ct_remove_hs()</a></code></strong>: Removes specific tags
or clears them all.</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Remove just the Count tag</span></span>
<span><span class="fu"><a href="../reference/ct_remove_hs.html">ct_remove_hs</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"10200034.JPG"</span>, hierarchy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Count"</span> <span class="op">=</span> <span class="st">"1"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Now that you understand how hierarchical subjects are managed, you
can include them directly in the extracted metadata by setting
<code>parse_hs = TRUE</code> in the <code><a href="../reference/ct_read_metadata.html">ct_read_metadata()</a></code>
function. This option parses the <code>HierarchicalSubject</code> field
into separate columns, where each parent category becomes its own column
in the resulting tibble.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ct_read_metadata.html">ct_read_metadata</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="st">"10200034.JPG"</span>,</span>
<span>  parse_hs <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table table-striped" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
SourceFile
</th>
<th style="text-align:left;">
FileName
</th>
<th style="text-align:left;">
Make
</th>
<th style="text-align:left;">
Model
</th>
<th style="text-align:left;">
DateTimeOriginal
</th>
<th style="text-align:left;">
FileModifyDate
</th>
<th style="text-align:right;">
GPSLongitude
</th>
<th style="text-align:right;">
GPSLatitude
</th>
<th style="text-align:left;">
GPSLongitudeRef
</th>
<th style="text-align:left;">
GPSLatitudeRef
</th>
<th style="text-align:right;">
Orientation
</th>
<th style="text-align:left;">
HierarchicalSubject
</th>
<th style="text-align:left;">
Species
</th>
<th style="text-align:left;">
Count
</th>
<th style="text-align:left;">
Sex
</th>
<th style="text-align:left;">
Habitat
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
C:/Users/ganda/Downloads/camtest/10200034.JPG
</td>
<td style="text-align:left;">
10200034.JPG
</td>
<td style="text-align:left;">
BUSHNELL
</td>
<td style="text-align:left;">
119977C
</td>
<td style="text-align:left;">
2020:10:20 13:16:09
</td>
<td style="text-align:left;">
2020:10:20 13:16:09+01:00
</td>
<td style="text-align:right;">
12.9667
</td>
<td style="text-align:right;">
8.166705
</td>
<td style="text-align:left;">
E
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Species|Kobus_kob, Count|1, Sex|Male, Habitat|Shrub_savanah,
Species|Bubalus_bubalis, Count|2, Sex|Unknown
</td>
<td style="text-align:left;">
Kobus_kob
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
Male
</td>
<td style="text-align:left;">
Shrub_savanah
</td>
</tr>
<tr>
<td style="text-align:left;">
C:/Users/ganda/Downloads/camtest/10200034.JPG
</td>
<td style="text-align:left;">
10200034.JPG
</td>
<td style="text-align:left;">
BUSHNELL
</td>
<td style="text-align:left;">
119977C
</td>
<td style="text-align:left;">
2020:10:20 13:16:09
</td>
<td style="text-align:left;">
2020:10:20 13:16:09+01:00
</td>
<td style="text-align:right;">
12.9667
</td>
<td style="text-align:right;">
8.166705
</td>
<td style="text-align:left;">
E
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Species|Kobus_kob, Count|1, Sex|Male, Habitat|Shrub_savanah,
Species|Bubalus_bubalis, Count|2, Sex|Unknown
</td>
<td style="text-align:left;">
Bubalus_bubalis
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
Unknown
</td>
<td style="text-align:left;">
NA
</td>
</tr>
</tbody>
</table>
</div>
<div style="border-left: 6px solid #D9C9BA; padding-left: 12px; margin: 16px 0;">
<p>
</p>
<p>Adding or removing hierarchical subjects programmatically can be
difficult to manage, especially when working with hundreds or thousands
of images. Manually locating an image, providing its path to
<code><a href="../reference/ct_create_hs.html">ct_create_hs()</a></code>, and specifying attributes for each file
quickly becomes impractical.</p>
The purpose of these functions is to provide a wrapper with a graphical
user interface (GUI) that simplifies this process and makes managing
hierarchical subjects more efficient and user-friendly.

</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stanislas Mahussi Gandaho, R Consortium.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
